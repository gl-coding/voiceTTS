# 搜索和分页功能说明

## 🔍 功能概述

已为音频记录列表添加了完整的搜索和分页功能，让你可以轻松查找和管理大量英文语音记录。

## ✨ 主要功能

### 1. **搜索功能**

- ✅ 支持按**文本内容**搜索
- ✅ 支持按**记录ID**搜索
- ✅ 不区分大小写
- ✅ 实时显示搜索结果数量
- ✅ 一键清除搜索

### 2. **分页功能**

- ✅ 每页显示10条记录
- ✅ 完整的分页导航（首页、上一页、页码、下一页、尾页）
- ✅ 显示当前页码和总页数
- ✅ 显示总记录数
- ✅ 搜索结果也支持分页

### 3. **列表优化**

- ✅ 优化列宽比例，更好展示内容
- ✅ 文本内容自动截断，避免过长
- ✅ 鼠标悬停显示完整文本
- ✅ 记录总数徽章显示
- ✅ 按创建时间倒序排列（最新的在前）

## 🎯 使用方法

### 搜索记录

1. **访问记录列表页面**
   ```
   http://127.0.0.1:8000/records/
   ```

2. **输入搜索关键词**
   - 在搜索框中输入要查找的英文文本
   - 或输入记录ID
   - 点击"搜索"按钮或按回车键

3. **查看搜索结果**
   - 系统会显示匹配的记录数量
   - 列表只显示匹配的记录
   - 点击"清除搜索"返回所有记录

### 浏览分页

1. **使用页码导航**
   - 点击页码直接跳转到指定页
   - 显示当前页附近的页码（前后各3页）

2. **使用导航按钮**
   - 「<<」- 跳转到首页
   - 「<」 - 上一页
   - 「>」 - 下一页
   - 「>>」- 跳转到尾页

3. **查看分页信息**
   - 底部显示：第 X / Y 页，共 Z 条记录

## 📊 搜索示例

### 示例1：搜索包含特定单词的记录
```
搜索词: "hello"
结果: 所有文本中包含 "hello" 的记录
```

### 示例2：搜索特定ID
```
搜索词: "5"
结果: ID为5的记录 + 文本中包含"5"的记录
```

### 示例3：搜索短语
```
搜索词: "test audio"
结果: 文本中包含 "test audio" 的所有记录
```

## 🔌 API接口

API接口也支持搜索功能：

### 获取记录列表（带搜索）

**请求：**
```bash
# 获取所有记录（默认20条）
curl http://127.0.0.1:8000/api/records/

# 搜索包含"hello"的记录
curl http://127.0.0.1:8000/api/records/?q=hello

# 限制返回数量
curl http://127.0.0.1:8000/api/records/?limit=50

# 搜索 + 限制数量
curl http://127.0.0.1:8000/api/records/?q=test&limit=10
```

**响应：**
```json
{
    "success": true,
    "count": 5,
    "search_query": "hello",
    "data": [
        {
            "id": 1,
            "text": "Hello, world!",
            "tts_type": "local",
            "status": "success",
            "preurl": "https://...",
            "uptime": "2024-01-01 12:00:00",
            ...
        }
    ]
}
```

## 💡 高级技巧

### 1. 精确搜索ID
```
搜索词: 直接输入数字，如 "123"
```

### 2. 搜索长句子
```
搜索词: 可以输入完整句子的一部分
```

### 3. 快速清除搜索
```
点击搜索框旁边的 "× 清除搜索" 按钮
```

### 4. 键盘快捷键
```
- 页面加载后，搜索框自动获得焦点
- 输入搜索词后按回车直接搜索
```

## 🎨 界面特性

- **搜索框**：醒目的卡片样式，带搜索图标
- **搜索结果提示**：显示搜索词和匹配数量
- **分页控件**：Bootstrap样式，美观实用
- **响应式设计**：手机、平板、电脑都能良好显示
- **表格优化**：合理的列宽分配
- **文本预览**：长文本自动截断，悬停显示完整内容

## 🔄 后续计划

可以考虑添加的功能：
- [ ] 高级筛选（按生成方式、状态筛选）
- [ ] 排序功能（按时间、ID排序）
- [ ] 批量操作（批量删除、导出）
- [ ] 搜索历史记录
- [ ] 导出搜索结果为CSV

## 📝 注意事项

1. 搜索是**实时查询**，不会缓存结果
2. 搜索**不区分大小写**
3. 每页固定显示**10条记录**
4. 分页在搜索时会保留搜索条件
5. 删除记录后会自动刷新当前页

